<Profile>
<Name>Act 4 - Loader</Name>
<KillMonsters>True</KillMonsters>
<PickupLoot>true</PickupLoot>
<GameParams act="OpenWorld" resumeFromSave="False" isPrivate="True" numGames="-1" />
<Order>

	<WaitTimer questId="312429" stepId="2" waitTime="1000" />

	<!-- Act 4 Bounties -->
	<LogMessage quest="1" step="1" output="Act 4 Bounties" /> 
	
	
	<!-- Waypoint [41] -->
	
	<!-- Cursed Dais  -->
	<If condition="HasQuest(369900)">
		<LoadProfile file="Dais.xml" />
	</If>
	<!-- Kill Rakanoth -->
	<If condition="HasQuest(349262)">
		<LoadProfile file="Rakanoth.xml" />
	</If>
	<!-- Kill Khatun -->
	<If condition="HasQuest(349258)">
		<LoadProfile file="Gardens of hope 1.xml" />
	</If>
	<!-- Kill Torchlighter -->
	<If condition="HasQuest(349256)">
		<LoadProfile file="Gardens of hope 1.xml" />
	</If>
	<!-- Kill Veshan the fierce -->
	<If condition="HasQuest(349260)">
		<LoadProfile file="Gardens of hope 1.xml" />
	</If>
	<!-- Kill the aspect of destruction -->
	<If condition="HasQuest(357131)">
		<LoadProfile file="Gardens of hope 1.xml" />
	</If>
	
	
	<!-- Waypoint [42] -->
	
	<!-- kill the aspect of pain -->
	<If condition="HasQuest(357129)">
		<LoadProfile file="Gardens of hope 2.xml" />
	</If>
	<!-- Kill the aspect of anguish -->
	<If condition="HasQuest(357127)">
		<LoadProfile file="Gardens of hope 2.xml" />
	</If>
	<!-- kill kao'ahn -->
	<If condition="HasQuest(349254)">
		<LoadProfile file="Gardens of hope 2.xml" />
	</If>
	<!-- kill oah'tash -->
	<If condition="HasQuest(349252)">
		<LoadProfile file="Gardens of hope 2.xml" />
	</If>
	
	
	<!-- Waypoint [43] -->
	
	<!-- Kill sledge -->
	<If condition="HasQuest(364336)">
		<LoadProfile file="Hellrift.xml" />
	</If>
	<!-- kill hammermash -->
	<If condition="HasQuest(364333)">
		<LoadProfile file="Hellrift.xml" />
	</If>
	<!-- clear hell rift -->
	<If condition="HasQuest(362140)">
		<LoadProfile file="Hellrift.xml" />
	</If>
	
	
	<!-- Waypoint [44] -->
	
	<!-- kill aspect of hatred -->
	<If condition="HasQuest(357133)">
		<LoadProfile file="Silver Spire 1.xml" />
	</If>
	<!-- kill aspect of lies -->
	<If condition="HasQuest(357135)">
		<LoadProfile file="Silver Spire 1.xml" />
	</If>
	<!-- kill izual -->
	<If condition="HasQuest(361421)">
		<LoadProfile file="Izual.xml" />
	</If>
	<!-- kill slarg the behemoth -->
	<If condition="HasQuest(349280)">
		<LoadProfile file="Silver Spire 1.xml" />
	</If>
	<!-- kill kysindra the wretched -->
	<If condition="HasQuest(349276)">
		<LoadProfile file="Silver Spire 1.xml" />
	</If>
	<!-- kill pyres the damned -->
	<If condition="HasQuest(349278)">
		<LoadProfile file="Silver Spire 1.xml" />
	</If>
	
	
	<!-- Waypoint [45] -->
	
	<!-- kill aspect of terror -->
	<If condition="HasQuest(357139)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- kill grimnight the soulless -->
	<If condition="HasQuest(349272)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- kill Sao'thall -->
	<If condition="HasQuest(349274)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- kill rhau'kye -->
	<If condition="HasQuest(349282)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- kill haures -->
	<If condition="HasQuest(349270)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- kill aspect of sin -->
	<If condition="HasQuest(357137)">
		<LoadProfile file="Silver Spire 2.xml" />
	</If>
	<!-- Cursed chapel (Might be static, x="411" y="890" z="0") -->
	<If condition="HasQuest(369878)">
		<LoadProfile file="Chapel.xml" />
	</If>
	<!-- kill diablo -->
	<If condition="HasQuest(349288)">
		<LoadProfile file="Diablo.xml" />
	</If>

	<LogMessage quest="1" step="1" output="Checking if we have all bounties complete" /> 
	<ActBountiesComplete act="A4">
	<LogMessage quest="1" step="1" output="Seems like we have 5 complete" />
		<If condition="Me.IsInTown==False">   
			<LogMessage quest="1" step="1" output="Going back to town to turn it in." />
			<TrinityTownPortal questId="1" /> 
		</If>
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>	
		<LogMessage quest="1" step="1" output="Lets make sure we are actually in the right town" />
		<While condition="CurrentWorldId != 172909">
			<LogMessage quest="1" step="1" output="Doesn't look like we are! using the waypoint" />
			<UseWaypoint waypointNumber="26" questId="1"/>
			<WaitTimer questId="1" stepId="1" waitTime="7500"/>
		</While>
		
		<!-- Currently DB has issues with picking up cache loot in town if bags are already full, force town run to try and avoid this situation -->
		<ForceTownRun questId="1"/>	
		<WaitTimer questId="1" stepId="1" waitTime="1000"/>			
		
		<LogMessage quest="1" step="1" output="Attempting to interact with Tyrael" />
		<MoveToActor questId="1" stepId="1" actorId="114622" x="379" y="422" z="0"  />
		<LogMessage quest="1" step="1" output="Should have interacted with him by now." />

	</ActBountiesComplete>

	<!-- should we move onto to the next act? -->
	<If condition="Zeta.Bot.Settings.GlobalSettings.Instance.LastProfile.Contains('All_Redirect')">
		<TrinityLoadProfile file="../All_Distributor.xml" />			
	</If>		
	
	<!-- nope repeating the same act. gooo! -->
	<LeaveGame quest="1" step="1" reason="done." stayInParty="False" />		
	<ReloadProfile />	
	
</Order>
</Profile>